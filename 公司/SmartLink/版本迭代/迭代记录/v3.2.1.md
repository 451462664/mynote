# v3.3

## web 原型

https://s4s4ra.axshare.com/#id=0su370&p=版本需求列表-吉万康&g=1

## 蓝湖

https://lanhuapp.com/url/Cnhge
BlRj

## 百度地图api

https://lbsyun.baidu.com/index.php?title=webapi/directionlite-v1

## 加油

### 线路节油方案

#### 数据模型

方案名称、出发点、终点、里程、计划驾驶时长、分段、监测
**`操作`**：开始监测启动监测流程。

新建节油方案表
`JOIN`
m_route
`JOIN`
m_station

```sql
CREATE TABLE `m_route` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `route_name` varchar(20) DEFAULT NULL,
  `team_code` varchar(36) DEFAULT NULL,
  `route_type` int(11) DEFAULT NULL COMMENT '1: 正常, 2: 临时, 3: 轨迹（2、3取消） 4 固定班线',
  `stop_number` int(11) DEFAULT NULL,
  `mid_station_cnt` int(11) DEFAULT NULL,
  `running_total_time` int(11) DEFAULT NULL,
  `stop_total_time` int(11) DEFAULT NULL,
  `total_distance` double DEFAULT NULL,
  `creator_id` int(11) DEFAULT NULL,
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updater_id` int(11) DEFAULT NULL,
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `delete_flag` int(1) DEFAULT '0',
  `route_flag` int(1) DEFAULT '1' COMMENT '班线标识 1:原先班线   2:新发车计划的线路',
  PRIMARY KEY (`id`),
  KEY `IDX_route_name_team_code` (`route_name`,`team_code`),
  KEY `idx_c` (`route_name`,`team_code`,`delete_flag`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1825 DEFAULT CHARSET=utf8mb4

CREATE TABLE `m_station` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `station_name` varchar(100) DEFAULT NULL,
  `team_code` varchar(36) DEFAULT NULL,
  `station_category` int(11) DEFAULT NULL COMMENT '1: 普通站点, 2: 加油站, 3: 休息区, 4: 服务站',
  `address` varchar(200) DEFAULT NULL,
  `lng` double DEFAULT NULL,
  `lat` double DEFAULT NULL,
  `radius` int(11) DEFAULT NULL,
  `province` varchar(20) DEFAULT NULL,
  `city` varchar(20) DEFAULT NULL,
  `creator_id` int(11) DEFAULT NULL,
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updater_id` int(11) DEFAULT NULL,
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `delete_flag` int(1) DEFAULT '0',
  `faw_area_id` bigint(20) DEFAULT NULL COMMENT '一汽围栏id',
  `qdfaw_area_id` bigint(20) DEFAULT NULL COMMENT '青汽围栏id',
  `sop_area_id` bigint(20) DEFAULT NULL COMMENT 'sop融合云站点围栏id',
  PRIMARY KEY (`id`),
  KEY `IDX_TEAM_CODE` (`team_code`) USING BTREE,
  KEY `IDX_station_name_team_code` (`station_name`,`team_code`)
) ENGINE=InnoDB AUTO_INCREMENT=1671 DEFAULT CHARSET=utf8mb4
```

```shell
# tkui 密钥

dev、test:
#TKUI开放API私钥
open.api.privateKey=MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAKDwMRD4OZrSx4yU5L+XKrwE3l2AKymu0ONhKx8h2a1CEMhR9/vjpu6kc7QMUn+6f9gbo4HVZc/7JySRwLl/xWNiR33qyo901W1KzkKDVoRk9K1bpjH6j+Ma8pq6z7iO3ni70stDl6f/WYPX6/Cgg5CznLicp2GowJ7Rd7cmNGq5AgMBAAECgYBx5asD9HhoHtYEovdEtEoVKGjqySNC66p/0SvAa6dvG7te2cvj41gnuhD8kl/sb2O84MqVvx2/1GH+WnyHi2p4aHjkJt/cf1C5ymNYsWDiIlYRYS0Su4fCsXuHYwD2ZMsar4j1WlRtMz1n3MbwLkpK//gdwq5v8l3X/oVUIMD65QJBAPM3CAxMrdMrX9qP1C1H0mhczftVuL2CWIW6e3N5Zf/Fm0zF20pHmDJ7WPTIfBatxXDKxa/DGFaAXddLBIv3JhcCQQCpZfQ9SJgT4MnvL6Y6aDPCj2KYc2EhqZOP0H0eR/3efKTVUsa5nQc69kVHz04drCAr7LFBZOuiZTMJ2o2Id0evAkA+W5a5qJNMuCs8W3IYJfkBfwHk9eaG2DugFd7/DVokiOK3fWcrFU4la1C0eg6uteEQeTzUQp4j14e34mkJBdYDAkEAobqvRttKJqBU60GI6PaXhEe1EGwH7kWilomtCv4cyRAjp2+SP6BGSOrbFkY8BGRTitw+F3ss5SzNX7kDq6iGDQJARZlhBgfh3UN62kOzUTH1yluxGRbAvp5EC5LhSuooVxSSQ4z5Z7MNTJC8Tl2jaKJjI06ETcyAduQQ6yTwsKMe4Q==

uat:
#TKUI开放API私钥
open.api.privateKey=MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAJ+41OQvGqoehqp+ekT+n/TS+iOlAcdAXeV9zlHbw3Tl2e3HVAiok/gQR7AUIz9vhxOI7wm1L+rbrKQjzC90avTwmX1viHIUtoTuaYclMQ/E6JK+gho/lGESpOaB4hDCAMeQKb7wYJcXyQPrEqdwuX20oemZtB8+jDh+XMsamftJAgMBAAECgYEAgmTDsLHf4+hd6kytByyUa6vduEHajM84mMU3Lc7q58FKQ/uJ2DO/8TFhRRd7mysyrDkLZPJ9dw/2Bl6PMGKreZbt+z5rg9oRJsuYwUFvWXdEJ34BIVPb5ETeM+D/9HZyWWFL620uf5uDx5yqixAorZFsNY9Mqsw+edVk+OPcST0CQQDZteYk4Xjy31Ez07HZlyPwfsdZrgGVfLI60YOpBoqWE61hqB/ADS2lGDC8mdttdeU1MF3EZC9RWAY7386AxAlrAkEAu9AVJgQvI9X7jBRTBO1b0IUwQtHyRrTyzqVxoskYgKax8TKRrRMumtBjtpQ0lx1sjc76ioBL56DZRKvHznU3GwJANPfto6F79NNihVKHHeKI6vVdeTM9zWoGTws0lkYyJ6tn7q+h8e8C4P0OtoRUf8BEYPmAhsy9OnRJJ/4e1vNbOwJAKPgDJP/UqKSM8smcMn70gFANbwYNK49dR+afGztytN2oA01cqbx9dhfvKGy77BrnCygTTxMde7GCs5AlTcwT8QJBALqkn4GWgOmuu/EbdJGiiwYEmCBn8/Oavz6QqL/Uj5u5bctc3BXNqX4tiQQpjpQqxVMFkALzNsUwPZhetTFivJ4=
```